{% extends "base.html.twig" %} {# サイト共通のベーステンプレートを継承 #}

{% block page_title %}{{ page_title }}{% endblock %}

{% block content %}
    <div style="text-align: center; padding: 50px;">
        <h1>{{ t('error_page', '500_heading', '500 - サーバー内部エラー') }}</h1>
        <p>{{ t('error_page', '500_message', '申し訳ございません。システム内部で予期せぬエラーが発生しました。') }}</p>

        {% if error_message_display %}
            <div style="margin-top:20px; padding:10px; border:1px solid #ccc; background-color:#f9f9f9; text-align:left; display:inline-block; max-width: 800px;">
                {# Display the pre-formatted (and potentially translated) error_message_display #}
                {# In DEBUG_MODE, this will contain more details. In PROD, a generic translated message. #}
                <p>{{ error_message_display|raw }}</p> {# error_message_display is already escaped and nl2br'd in PHP if it's from debug info #}
            </div>
        {% endif %}

        <p style="margin-top:20px;"><a href="{{ site_url }}/index.php">{{ t('error_page', '500_back_link', 'トップページに戻る') }}</a></p>
    </div>
{% endblock %}
